=== GitWeb

(((serving repositories, GitWeb)))(((GitWeb)))
Τώρα που έχετε βασική πρόσβαση ανάγνωσης/εγγραφής και μόνο-για-ανάγνωση στο έργο σας, ίσως θελήσετε να δημιουργήσετε ένα απλό οπτικοκοποιητή (visualizer) ιστού.
Το Git συνοδεύεται από ένα script CGI που ονομάζεται GitWeb και χρησιμοποιείται μερικές φορές για αυτό τον σκοπό.

[[r_gitweb]]
.Η διεπαφή χρήστη του GitWeb.
image::images/git-instaweb.png[Η διεπαφή χρήστη του GitWeb.]

Αν θέλετε να δείτε πώς θα μοιάζει το GitWeb για το έργο σας, το Git παρέχει με μια εντολή που ενεργοποιεί ένα προσωρινό στιγμιότυπο (instance) αν έχετε έναν ελαφρύ διακομιστή στο σύστημά σας όπως τον `lighttpd` ή τον `webrick`.
Στα μηχανήματα Linux, ο `lighttpd` είναι συχνά εγκατεστημένος, οπότε ίσως μπορείτε να τον τρέξετε εκτελώντας `git instaweb` στον κατάλογο του έργου.
Εάν τρέχετε Mac, το Leopard έρχεται προεγκατεστημένο με Ruby, έτσι το πιθανότερο είνα να είναι διαθέσιμος ο `webrick`.
Για να ξεκινήσετε το `instaweb` με handler που δεν είναι lighttpd, μπορείτε να το εκτελέσετε με την επιλογή `--httpd`. (((εντολές git, instaweb)))

[source,console]
----
$ git instaweb --httpd=webrick
[2009-02-21 10:02:21] INFO  WEBrick 1.3.1
[2009-02-21 10:02:21] INFO  ruby 1.8.6 (2008-03-03) [universal-darwin9.0]
----

Αυτό εκκινεί έναν διακομιστή HTTPD στη θύρα 1234 και στη συνέχεια ξεκινά αυτόματα ένα πρόγραμμα περιήγησης που ανοίγει σε αυτή τη σελίδα.
Είναι τόσο εύκολο.
Όταν τελειώσετε και θέλετε να τερματίσετε τη λειτουργία του διακομιστή, μπορείτε να εκτελέσετε την ίδια εντολή με την επιλογή `--stop`:

[source,console]
----
$ git instaweb --httpd=webrick --stop
----

Εάν θέλετε να τρέχετε συνεχώς τη διεπαφή ιστού σε έναν διακομιστή για την ομάδα σας ή για ένα έργο ανοιχτού κώδικα που φιλοξενείτε, θα πρέπει να ρυθμίσετε το script CGI να προσφέρεται από τον συνηθισμένο web server σας.
Ορισμένες διανομές Linux έχουν ένα πακέτο `gitweb` που μπορείτε να εγκαταστήσετε με `apt` ή `dnf`, επομένως ίσως είναι καλό να δοκιμάσετε αυτό πρώτα.
Θα σς δείξουμε τη χειροκίνητη εγκατάσταση του GitWeb πολύ συνοπτικά.
Πρώτα πρέπει να πάρετε τον πηγαίο κώδικα του Git, με τον οποίο έρχεται το GitWeb, και να δημιουργήσετε το προσαρμοσμένο script CGI:

[source,console]
----
$ git clone https://git.kernel.org/pub/scm/git/git.git
$ cd git/
$ make GITWEB_PROJECTROOT="/srv/git" prefix=/usr gitweb
    SUBDIR gitweb
    SUBDIR ../
make[2]: `GIT-VERSION-FILE' is up to date.
    GEN gitweb.cgi
    GEN static/gitweb.js
$ sudo cp -Rf gitweb /var/www/
----

Παρατηρήστε ότι πρέπει να πείτε στην εντολή πού να βρει τα αποθετήρια Git με τη μεταβλητή `GITWEB_PROJECTROOT`.
Τώρα, πρέπει να κάνετε το Apache να χρησιμοποιεί CGI για αυτό το script και για αυτόν τον σκοπό μπορείτε να προσθέσετε ένα VirtualHost:

[source,console]
----
<VirtualHost *:80>
    ServerName gitserver
    DocumentRoot /var/www/gitweb
    <Directory /var/www/gitweb>
        Options +ExecCGI +FollowSymLinks +SymLinksIfOwnerMatch
        AllowOverride All
        order allow,deny
        Allow from all
        AddHandler cgi-script cgi
        DirectoryIndex gitweb.cgi
    </Directory>
</VirtualHost>
----

Επαναλαμβάνουμε ότι το GitWeb μπορεί να εξυπηρετηθεί από οποιονδήποτε web server, CGI ή Perl· αν προτιμάτε να χρησιμοποιήσετε κάτι άλλο, δεν θα είναι δύσκολο να το εγκαταστήσετε.
Σε αυτό το σημείο, θα πρέπει να μπορείτε να επισκεφτείτε την `http://gitserver/` για να δείτε τα αποθετήριά σας online.
